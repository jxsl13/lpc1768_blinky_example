#pragma once

#include "../Interrupt.hpp" // all needed includes, interface, ValueType, etc.

/**
 * @brief The index encodes multiple parameters
 * 0x[00][00][0600]
 * 
 * The first [[E][I]] : Event Toggle, Interrupt Toggle
 * The second pair of [] interrupt/event index of the interrupt(EINT0 -> 0, EINT1 -> 1,...)
 * The third pair of [] defines a "Line mask", that corresponds to the on pages 289 - 293 defined
 * bit offsets, that configure, what line the specific interrupt/event is connected to.
 * 
 */
enum class ExternalInterrupt::IndexType : ValueType {
    // External Interrupts
    EXTI0_PA0 = 0x01000000,
    EXTI0_PB0 = 0x01000001,
    EXTI0_PC0 = 0x01000002,
    EXTI0_PD0 = 0x01000003,
    EXTI0_PE0 = 0x01000004,
    EXTI0_PF0 = 0x01000005,
    EXTI0_PG0 = 0x01000006,
    EXTI0_PH0 = 0x01000007,
    EXTI0_PI0 = 0x01000008,

    EXTI1_PA1 = 0x01010000,
    EXTI1_PB1 = 0x01010010,
    EXTI1_PC1 = 0x01010020,
    EXTI1_PD1 = 0x01010030,
    EXTI1_PE1 = 0x01010040,
    EXTI1_PF1 = 0x01010050,
    EXTI1_PG1 = 0x01010060,
    EXTI1_PH1 = 0x01010070,
    EXTI1_PI1 = 0x01010080,

    EXTI2_PA2 = 0x01020000,
    EXTI2_PB2 = 0x01020100,
    EXTI2_PC2 = 0x01020200,
    EXTI2_PD2 = 0x01020300,
    EXTI2_PE2 = 0x01020400,
    EXTI2_PF2 = 0x01020500,
    EXTI2_PG2 = 0x01020600,
    EXTI2_PH2 = 0x01020700,
    EXTI2_PI2 = 0x01020800,

    EXTI3_PA3 = 0x01030000,
    EXTI3_PB3 = 0x01031000,
    EXTI3_PC3 = 0x01032000,
    EXTI3_PD3 = 0x01033000,
    EXTI3_PE3 = 0x01034000,
    EXTI3_PF3 = 0x01035000,
    EXTI3_PG3 = 0x01036000,
    EXTI3_PH3 = 0x01037000,
    EXTI3_PI3 = 0x01038000,


    EXTI4_PA4 = 0x01040000,
    EXTI4_PB4 = 0x01040001,
    EXTI4_PC4 = 0x01040002,
    EXTI4_PD4 = 0x01040003,
    EXTI4_PE4 = 0x01040004,
    EXTI4_PF4 = 0x01040005,
    EXTI4_PG4 = 0x01040006,
    EXTI4_PH4 = 0x01040007,
    EXTI4_PI4 = 0x01040008,

    EXTI5_PA5 = 0x01050000,
    EXTI5_PB5 = 0x01050010,
    EXTI5_PC5 = 0x01050020,
    EXTI5_PD5 = 0x01050030,
    EXTI5_PE5 = 0x01050040,
    EXTI5_PF5 = 0x01050050,
    EXTI5_PG5 = 0x01050060,
    EXTI5_PH5 = 0x01050070,
    EXTI5_PI5 = 0x01050080,

    EXTI6_PA6 = 0x01060000,
    EXTI6_PB6 = 0x01060100,
    EXTI6_PC6 = 0x01060200,
    EXTI6_PD6 = 0x01060300,
    EXTI6_PE6 = 0x01060400,
    EXTI6_PF6 = 0x01060500,
    EXTI6_PG6 = 0x01060600,
    EXTI6_PH6 = 0x01060700,
    EXTI6_PI6 = 0x01060800,

    EXTI7_PA7 = 0x01070000,
    EXTI7_PB7 = 0x01071000,
    EXTI7_PC7 = 0x01072000,
    EXTI7_PD7 = 0x01073000,
    EXTI7_PE7 = 0x01074000,
    EXTI7_PF7 = 0x01075000,
    EXTI7_PG7 = 0x01076000,
    EXTI7_PH7 = 0x01077000,
    EXTI7_PI7 = 0x01078000,

    EXTI8_PA8 = 0x01080000,
    EXTI8_PB8 = 0x01080001,
    EXTI8_PC8 = 0x01080002,
    EXTI8_PD8 = 0x01080003,
    EXTI8_PE8 = 0x01080004,
    EXTI8_PF8 = 0x01080005,
    EXTI8_PG8 = 0x01080006,
    EXTI8_PH8 = 0x01080007,
    EXTI8_PI8 = 0x01080008,
    
    EXTI9_PA9 = 0x01090000,
    EXTI9_PB9 = 0x01090010,
    EXTI9_PC9 = 0x01090020,
    EXTI9_PD9 = 0x01090030,
    EXTI9_PE9 = 0x01090040,
    EXTI9_PF9 = 0x01090050,
    EXTI9_PG9 = 0x01090060,
    EXTI9_PH9 = 0x01090070,
    EXTI9_PI9 = 0x01090080,
    
    EXTI10_PA10 = 0x010A0000,
    EXTI10_PB10 = 0x010A0100,
    EXTI10_PC10 = 0x010A0200,
    EXTI10_PD10 = 0x010A0300,
    EXTI10_PE10 = 0x010A0400,
    EXTI10_PF10 = 0x010A0500,
    EXTI10_PG10 = 0x010A0600,
    EXTI10_PH10 = 0x010A0700,
    EXTI10_PI10 = 0x010A0800,
    
    EXTI11_PA11 = 0x010B0000,
    EXTI11_PB11 = 0x010B1000,
    EXTI11_PC11 = 0x010B2000,
    EXTI11_PD11 = 0x010B3000,
    EXTI11_PE11 = 0x010B4000,
    EXTI11_PF11 = 0x010B5000,
    EXTI11_PG11 = 0x010B6000,
    EXTI11_PH11 = 0x010B7000,
    EXTI11_PI11 = 0x010B8000,
    
    EXTI12_PA12 = 0x010C0000,
    EXTI12_PB12 = 0x010C0001,
    EXTI12_PC12 = 0x010C0002,
    EXTI12_PD12 = 0x010C0003,
    EXTI12_PE12 = 0x010C0004,
    EXTI12_PF12 = 0x010C0005,
    EXTI12_PG12 = 0x010C0006,
    EXTI12_PH12 = 0x010C0007,
    EXTI12_PI12 = 0x010C0008,

    EXTI13_PA13 = 0x010D0000,
    EXTI13_PB13 = 0x010D0010,
    EXTI13_PC13 = 0x010D0020,
    EXTI13_PD13 = 0x010D0030,
    EXTI13_PE13 = 0x010D0040,
    EXTI13_PF13 = 0x010D0050,
    EXTI13_PG13 = 0x010D0060,
    EXTI13_PH13 = 0x010D0070,
    EXTI13_PI13 = 0x010D0080,

    EXTI14_PA14 = 0x010E0000,
    EXTI14_PB14 = 0x010E0100,
    EXTI14_PC14 = 0x010E0200,
    EXTI14_PD14 = 0x010E0300,
    EXTI14_PE14 = 0x010E0400,
    EXTI14_PF14 = 0x010E0500,
    EXTI14_PG14 = 0x010E0600,
    EXTI14_PH14 = 0x010E0700,
    EXTI14_PI14 = 0x010E0800,

    EXTI15_PA15 = 0x010F0000,
    EXTI15_PB15 = 0x010F1000,
    EXTI15_PC15 = 0x010F2000,
    EXTI15_PD15 = 0x010F3000,
    EXTI15_PE15 = 0x010F4000,
    EXTI15_PF15 = 0x010F5000,
    EXTI15_PG15 = 0x010F6000,
    EXTI15_PH15 = 0x010F7000,
    EXTI15_PI15 = 0x010F8000,
/*
    EXTI16 = 0x00100000,
    EXTI17 = 0x00110000,
    EXTI18 = 0x00120000,
    EXTI19 = 0x00130000,

    EXTI20 = 0x00140000,
    EXTI21 = 0x00150000,
    EXTI22 = 0x00160000,
*/

    // External Events (do not trigger execution of callbacks)
    EXTE0_PA0 = 0x10000000,
    EXTE0_PB0 = 0x10000001,
    EXTE0_PC0 = 0x10000002,
    EXTE0_PD0 = 0x10000003,
    EXTE0_PE0 = 0x10000004,
    EXTE0_PF0 = 0x10000005,
    EXTE0_PG0 = 0x10000006,
    EXTE0_PH0 = 0x10000007,
    EXTE0_PI0 = 0x10000008,

    EXTE1_PA1 = 0x10010000,
    EXTE1_PB1 = 0x10010010,
    EXTE1_PC1 = 0x10010020,
    EXTE1_PD1 = 0x10010030,
    EXTE1_PE1 = 0x10010040,
    EXTE1_PF1 = 0x10010050,
    EXTE1_PG1 = 0x10010060,
    EXTE1_PH1 = 0x10010070,
    EXTE1_PI1 = 0x10010080,

    EXTE2_PA2 = 0x10020000,
    EXTE2_PB2 = 0x10020100,
    EXTE2_PC2 = 0x10020200,
    EXTE2_PD2 = 0x10020300,
    EXTE2_PE2 = 0x10020400,
    EXTE2_PF2 = 0x10020500,
    EXTE2_PG2 = 0x10020600,
    EXTE2_PH2 = 0x10020700,
    EXTE2_PI2 = 0x10020800,

    EXTE3_PA3 = 0x10030000,
    EXTE3_PB3 = 0x10031000,
    EXTE3_PC3 = 0x10032000,
    EXTE3_PD3 = 0x10033000,
    EXTE3_PE3 = 0x10034000,
    EXTE3_PF3 = 0x10035000,
    EXTE3_PG3 = 0x10036000,
    EXTE3_PH3 = 0x10037000,
    EXTE3_PI3 = 0x10038000,


    EXTE4_PA4 = 0x10040000,
    EXTE4_PB4 = 0x10040001,
    EXTE4_PC4 = 0x10040002,
    EXTE4_PD4 = 0x10040003,
    EXTE4_PE4 = 0x10040004,
    EXTE4_PF4 = 0x10040005,
    EXTE4_PG4 = 0x10040006,
    EXTE4_PH4 = 0x10040007,
    EXTE4_PI4 = 0x10040008,

    EXTE5_PA5 = 0x10050000,
    EXTE5_PB5 = 0x10050010,
    EXTE5_PC5 = 0x10050020,
    EXTE5_PD5 = 0x10050030,
    EXTE5_PE5 = 0x10050040,
    EXTE5_PF5 = 0x10050050,
    EXTE5_PG5 = 0x10050060,
    EXTE5_PH5 = 0x10050070,
    EXTE5_PI5 = 0x10050080,

    EXTE6_PA6 = 0x10060000,
    EXTE6_PB6 = 0x10060100,
    EXTE6_PC6 = 0x10060200,
    EXTE6_PD6 = 0x10060300,
    EXTE6_PE6 = 0x10060400,
    EXTE6_PF6 = 0x10060500,
    EXTE6_PG6 = 0x10060600,
    EXTE6_PH6 = 0x10060700,
    EXTE6_PI6 = 0x10060800,

    EXTE7_PA7 = 0x10070000,
    EXTE7_PB7 = 0x10071000,
    EXTE7_PC7 = 0x10072000,
    EXTE7_PD7 = 0x10073000,
    EXTE7_PE7 = 0x10074000,
    EXTE7_PF7 = 0x10075000,
    EXTE7_PG7 = 0x10076000,
    EXTE7_PH7 = 0x10077000,
    EXTE7_PI7 = 0x10078000,

    EXTE8_PA8 = 0x10080000,
    EXTE8_PB8 = 0x10080001,
    EXTE8_PC8 = 0x10080002,
    EXTE8_PD8 = 0x10080003,
    EXTE8_PE8 = 0x10080004,
    EXTE8_PF8 = 0x10080005,
    EXTE8_PG8 = 0x10080006,
    EXTE8_PH8 = 0x10080007,
    EXTE8_PI8 = 0x10080008,
    
    EXTE9_PA9 = 0x10090000,
    EXTE9_PB9 = 0x10090010,
    EXTE9_PC9 = 0x10090020,
    EXTE9_PD9 = 0x10090030,
    EXTE9_PE9 = 0x10090040,
    EXTE9_PF9 = 0x10090050,
    EXTE9_PG9 = 0x10090060,
    EXTE9_PH9 = 0x10090070,
    EXTE9_PI9 = 0x10090080,
    
    EXTE10_PA10 = 0x100A000,
    EXTE10_PB10 = 0x100A100,
    EXTE10_PC10 = 0x100A200,
    EXTE10_PD10 = 0x100A300,
    EXTE10_PE10 = 0x100A400,
    EXTE10_PF10 = 0x100A500,
    EXTE10_PG10 = 0x100A600,
    EXTE10_PH10 = 0x100A700,
    EXTE10_PI10 = 0x100A800,
    
    EXTE11_PA11 = 0x100B0000,
    EXTE11_PB11 = 0x100B1000,
    EXTE11_PC11 = 0x100B2000,
    EXTE11_PD11 = 0x100B3000,
    EXTE11_PE11 = 0x100B4000,
    EXTE11_PF11 = 0x100B5000,
    EXTE11_PG11 = 0x100B6000,
    EXTE11_PH11 = 0x100B7000,
    EXTE11_PI11 = 0x100B8000,
    
    EXTE12_PA12 = 0x100C0000,
    EXTE12_PB12 = 0x100C0001,
    EXTE12_PC12 = 0x100C0002,
    EXTE12_PD12 = 0x100C0003,
    EXTE12_PE12 = 0x100C0004,
    EXTE12_PF12 = 0x100C0005,
    EXTE12_PG12 = 0x100C0006,
    EXTE12_PH12 = 0x100C0007,
    EXTE12_PI12 = 0x100C0008,

    EXTE13_PA13 = 0x100D0000,
    EXTE13_PB13 = 0x100D0010,
    EXTE13_PC13 = 0x100D0020,
    EXTE13_PD13 = 0x100D0030,
    EXTE13_PE13 = 0x100D0040,
    EXTE13_PF13 = 0x100D0050,
    EXTE13_PG13 = 0x100D0060,
    EXTE13_PH13 = 0x100D0070,
    EXTE13_PI13 = 0x100D0080,

    EXTE14_PA14 = 0x100E0000,
    EXTE14_PB14 = 0x100E0100,
    EXTE14_PC14 = 0x100E0200,
    EXTE14_PD14 = 0x100E0300,
    EXTE14_PE14 = 0x100E0400,
    EXTE14_PF14 = 0x100E0500,
    EXTE14_PG14 = 0x100E0600,
    EXTE14_PH14 = 0x100E0700,
    EXTE14_PI14 = 0x100E0800,

    EXTE15_PA15 = 0x100F0000,
    EXTE15_PB15 = 0x100F1000,
    EXTE15_PC15 = 0x100F2000,
    EXTE15_PD15 = 0x100F3000,
    EXTE15_PE15 = 0x100F4000,
    EXTE15_PF15 = 0x100F5000,
    EXTE15_PG15 = 0x100F6000,
    EXTE15_PH15 = 0x100F7000,
    EXTE15_PI15 = 0x100F8000,

    EXTE16 = 0x01100000,
    EXTE17 = 0x01110000,
    EXTE18 = 0x01120000,
    EXTE19 = 0x01130000,

    EXTE20 = 0x01140000,
    EXTE21 = 0x01150000,
    EXTE22 = 0x01160000,


    /**
     * Event and Interrupt Masked
     * Triggers event and interrupt!
     */
     // External Events (do not trigger execution of callbacks)
    EXTEI0_PA0 = 0x11000000,
    EXTEI0_PB0 = 0x11000001,
    EXTEI0_PC0 = 0x11000002,
    EXTEI0_PD0 = 0x11000003,
    EXTEI0_PE0 = 0x11000004,
    EXTEI0_PF0 = 0x11000005,
    EXTEI0_PG0 = 0x11000006,
    EXTEI0_PH0 = 0x11000007,
    EXTEI0_PI0 = 0x11000008,

    EXTEI1_PA1 = 0x11010000,
    EXTEI1_PB1 = 0x11010010,
    EXTEI1_PC1 = 0x11010020,
    EXTEI1_PD1 = 0x11010030,
    EXTEI1_PE1 = 0x11010040,
    EXTEI1_PF1 = 0x11010050,
    EXTEI1_PG1 = 0x11010060,
    EXTEI1_PH1 = 0x11010070,
    EXTEI1_PI1 = 0x11010080,

    EXTEI2_PA2 = 0x11020000,
    EXTEI2_PB2 = 0x11020100,
    EXTEI2_PC2 = 0x11020200,
    EXTEI2_PD2 = 0x11020300,
    EXTEI2_PE2 = 0x11020400,
    EXTEI2_PF2 = 0x11020500,
    EXTEI2_PG2 = 0x11020600,
    EXTEI2_PH2 = 0x11020700,
    EXTEI2_PI2 = 0x11020800,

    EXTEI3_PA3 = 0x11030000,
    EXTEI3_PB3 = 0x11031000,
    EXTEI3_PC3 = 0x11032000,
    EXTEI3_PD3 = 0x11033000,
    EXTEI3_PE3 = 0x11034000,
    EXTEI3_PF3 = 0x11035000,
    EXTEI3_PG3 = 0x11036000,
    EXTEI3_PH3 = 0x11037000,
    EXTEI3_PI3 = 0x11038000,


    EXTEI4_PA4 = 0x11040000,
    EXTEI4_PB4 = 0x11040001,
    EXTEI4_PC4 = 0x11040002,
    EXTEI4_PD4 = 0x11040003,
    EXTEI4_PE4 = 0x11040004,
    EXTEI4_PF4 = 0x11040005,
    EXTEI4_PG4 = 0x11040006,
    EXTEI4_PH4 = 0x11040007,
    EXTEI4_PI4 = 0x11040008,

    EXTEI5_PA5 = 0x11050000,
    EXTEI5_PB5 = 0x11050010,
    EXTEI5_PC5 = 0x11050020,
    EXTEI5_PD5 = 0x11050030,
    EXTEI5_PE5 = 0x11050040,
    EXTEI5_PF5 = 0x11050050,
    EXTEI5_PG5 = 0x11050060,
    EXTEI5_PH5 = 0x11050070,
    EXTEI5_PI5 = 0x11050080,

    EXTEI6_PA6 = 0x11060000,
    EXTEI6_PB6 = 0x11060100,
    EXTEI6_PC6 = 0x11060200,
    EXTEI6_PD6 = 0x11060300,
    EXTEI6_PE6 = 0x11060400,
    EXTEI6_PF6 = 0x11060500,
    EXTEI6_PG6 = 0x11060600,
    EXTEI6_PH6 = 0x11060700,
    EXTEI6_PI6 = 0x11060800,

    EXTEI7_PA7 = 0x11070000,
    EXTEI7_PB7 = 0x11071000,
    EXTEI7_PC7 = 0x11072000,
    EXTEI7_PD7 = 0x11073000,
    EXTEI7_PE7 = 0x11074000,
    EXTEI7_PF7 = 0x11075000,
    EXTEI7_PG7 = 0x11076000,
    EXTEI7_PH7 = 0x11077000,
    EXTEI7_PI7 = 0x11078000,

    EXTEI8_PA8 = 0x11080000,
    EXTEI8_PB8 = 0x11080001,
    EXTEI8_PC8 = 0x11080002,
    EXTEI8_PD8 = 0x11080003,
    EXTEI8_PE8 = 0x11080004,
    EXTEI8_PF8 = 0x11080005,
    EXTEI8_PG8 = 0x11080006,
    EXTEI8_PH8 = 0x11080007,
    EXTEI8_PI8 = 0x11080008,
    
    EXTEI9_PA9 = 0x11090000,
    EXTEI9_PB9 = 0x11090010,
    EXTEI9_PC9 = 0x11090020,
    EXTEI9_PD9 = 0x11090030,
    EXTEI9_PE9 = 0x11090040,
    EXTEI9_PF9 = 0x11090050,
    EXTEI9_PG9 = 0x11090060,
    EXTEI9_PH9 = 0x11090070,
    EXTEI9_PI9 = 0x11090080,
    
    EXTEI10_PA10 = 0x110A000,
    EXTEI10_PB10 = 0x110A100,
    EXTEI10_PC10 = 0x110A200,
    EXTEI10_PD10 = 0x110A300,
    EXTEI10_PE10 = 0x110A400,
    EXTEI10_PF10 = 0x110A500,
    EXTEI10_PG10 = 0x110A600,
    EXTEI10_PH10 = 0x110A700,
    EXTEI10_PI10 = 0x110A800,
    
    EXTEI11_PA11 = 0x110B0000,
    EXTEI11_PB11 = 0x110B1000,
    EXTEI11_PC11 = 0x110B2000,
    EXTEI11_PD11 = 0x110B3000,
    EXTEI11_PE11 = 0x110B4000,
    EXTEI11_PF11 = 0x110B5000,
    EXTEI11_PG11 = 0x110B6000,
    EXTEI11_PH11 = 0x110B7000,
    EXTEI11_PI11 = 0x110B8000,
    
    EXTEI12_PA12 = 0x110C0000,
    EXTEI12_PB12 = 0x110C0001,
    EXTEI12_PC12 = 0x110C0002,
    EXTEI12_PD12 = 0x110C0003,
    EXTEI12_PE12 = 0x110C0004,
    EXTEI12_PF12 = 0x110C0005,
    EXTEI12_PG12 = 0x110C0006,
    EXTEI12_PH12 = 0x110C0007,
    EXTEI12_PI12 = 0x110C0008,

    EXTEI13_PA13 = 0x110D0000,
    EXTEI13_PB13 = 0x110D0010,
    EXTEI13_PC13 = 0x110D0020,
    EXTEI13_PD13 = 0x110D0030,
    EXTEI13_PE13 = 0x110D0040,
    EXTEI13_PF13 = 0x110D0050,
    EXTEI13_PG13 = 0x110D0060,
    EXTEI13_PH13 = 0x110D0070,
    EXTEI13_PI13 = 0x110D0080,

    EXTEI14_PA14 = 0x110E0000,
    EXTEI14_PB14 = 0x110E0100,
    EXTEI14_PC14 = 0x110E0200,
    EXTEI14_PD14 = 0x110E0300,
    EXTEI14_PE14 = 0x110E0400,
    EXTEI14_PF14 = 0x110E0500,
    EXTEI14_PG14 = 0x110E0600,
    EXTEI14_PH14 = 0x110E0700,
    EXTEI14_PI14 = 0x110E0800,

    EXTEI15_PA15 = 0x110F0000,
    EXTEI15_PB15 = 0x110F1000,
    EXTEI15_PC15 = 0x110F2000,
    EXTEI15_PD15 = 0x110F3000,
    EXTEI15_PE15 = 0x110F4000,
    EXTEI15_PF15 = 0x110F5000,
    EXTEI15_PG15 = 0x110F6000,
    EXTEI15_PH15 = 0x110F7000,
    EXTEI15_PI15 = 0x110F8000,
};

/**
 * Rising trigger selection register (EXTE_RTSR)
 * Falling trigger selection register (EXTI_FTSR)
 * 
 * EXTI_RTSR    EXTI_FTSR
 *      0           0   Nothing
 *      0           1   falling edge triggers the interrupt
 *      1           0   rising edge triggers the interuupt
 *      1           1   both edges trigger the interrupt
 * TODO: measuring seems to yield the result that falling & rising edge are swapped!
 */
enum class ExternalInterrupt::TriggerType : ValueType {
    EDGE_FALLING            = 1,
    EDGE_RISING             = 2,
    EDGE_FALLING_RISING     = 3,
};